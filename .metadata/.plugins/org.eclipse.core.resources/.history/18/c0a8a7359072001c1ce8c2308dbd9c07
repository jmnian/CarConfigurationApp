package model;

import java.io.*;
import model.OptionSet.Option;

public class Automotive implements Serializable{
	private String name;
	private float basePrice;
	private OptionSet[] optset;
	
	public Automotive(){}
	public Automotive(String name, float basePrice, int optionSetSize) {
		super();
		this.name = name;
		this.basePrice = basePrice;
		this.optset = new OptionSet[optionSetSize]; 
		for (int i = 0; i < optionSetSize; i++) {
			optset[i] = new OptionSet();
		}
	}
	
	//Getters
	public String getName() {
		return name;
	}
	public float getBasePrice() {
		return basePrice;
	}
	public OptionSet getOptionSet(int index) {
		return optset[index];
	}
	public OptionSet getOptionSet(String name) {
		int index = 0;
		for (int i = 0; i < optset.length; i++) {
			if (optset[i].getName().equals(name)) {
				index = i;
				break;
			}
		}
		return optset[index];
	}
	public int getOptionSetSize() {
		return optset.length;
	}
	public int getOptionSize(int index) {
		return optset[index].getOptionArrayLength();
	}
	public Option[] getOptionArray(int index) {
		return optset[index].getOption();
	}
	public Option getOption(int setIndex, int optIndex) {
		return optset[setIndex].getOption(optIndex);
	}
	
	//Setters
	public void setName(String name) {
		this.name = name;
	}
	public void setBasePrice(float basePrice) {
		this.basePrice = basePrice;
	}
	public void setOptionSet(String name, String newName, Option[] newOpt) {
		OptionSet optset = findOptionSet(name);
		optset.setName(newName);
		optset.setOption(newOpt);
	}
	public void setOptionSet(int index, String newName, Option[] newOpt) {
		optset[index].setName(newName);
		optset[index].setOption(newOpt);
	}
	public void setOptionSetArray(int size) {
		OptionSet[] optset = new OptionSet[size];
		for (int i = 0; i < size; i++) {
			optset[i] = new OptionSet();
		}
		this.optset = optset;
	}
	public void setOption(int optsetIndex, int optIndex, String name, float price) {
		optset[optsetIndex].getOption(optIndex).setName(name);
		optset[optsetIndex].getOption(optIndex).setPrice(price);
	}
	public void setOptionArray(OptionSet optset, int size) {
		optset.setOptionArray(size);
	}
	
	//Finders
	public OptionSet findOptionSet(String name) {
		int result = 0;
		for (int i = 0; i < optset.length; i++) {
			if (optset[i].getName() == name) {
				result = i;
			}
		}
		return optset[result];
	}
	public Option findOption(String optsetName, String name) {
		int result = 0;
		OptionSet optset = findOptionSet(optsetName);
		for (int i = 0; i < optset.getOptionArrayLength(); i++) {
			if (optset.getOption()[i].getName() == name) {
				result = i;
			}
		}
		return optset.getOption()[result];
	}
		
	//Deleter
	public void deleteOption() {
		
	}
	public void deleteOptionSet() {
		
	}
	
	//Updater
	public void updateOptionSet() {
		
	}
	public void updateOption() {
		
	}
	
	//Utility
	public void print() {
//		String format = "%-40s%s%n";
//		System.out.println("Name of the automotive: " + this.name);
//		String s = "Base Price of this automotive: ";
//		String sa = "$" + this.basePrice;
//		System.out.printf(format, s, sa);
//		for (int i = 0; i < optset.length; i++) {
//			StringBuilder sb = new StringBuilder();
//			sb.append("Option Set #");
//			sb.append(i + 1);
//			sb.append(": ");
//			sb.append(getOptionSet(i).getName());
//			System.out.println(sb.toString());
//			System.out.println("\s\sHere are the options and the prices: ");
//			for (int j = 0; j < optset[i].getOptionArrayLength(); j++) {
//				String s1 = "\s\s\s\s" + getOption(i, j).getName();
//				String s2 = "$" + getOption(i, j).getPrice();
//				System.out.printf(format, s1, s2);
//			}
//		}
//		System.out.println("-------------End of print function--------------");
		StringBuilder sb = new StringBuilder();
		sb.append("Automitive Name: ");
		sb.append(this.name);
		sb.append("\tBase Price: $");
		sb.append(this.basePrice);
		System.out.println(sb.toString());
		for (int i = 0; i < optset.length; i++) {
			System.out.print("\s\s");
			optset[i].print();
		}
	}
}
